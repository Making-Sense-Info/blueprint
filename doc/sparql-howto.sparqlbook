[
  {
    "kind": 1,
    "language": "markdown",
    "value": "# Flux SPARQL Documentation\n"
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "# First call: Flux Meta\nGet all instances of rdfs:Class with an incomping sh:target sourced from a flux:ClassShape. Then get rdfs:label and an optional rdfs:comment from it. "
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "CONSTRUCT {\n\t?subject_n0 a <http://www.w3.org/2000/01/rdf-schema#Class> .\n\t?v_n0_p0 <http://www.w3.org/ns/shacl#target> ?subject_n0 .\n\t?v_n0_p0 a <https://ld.flux.zazuko.com/shapes/metadata/ClassShape> .\n\t?subject_n0 <http://www.w3.org/2000/01/rdf-schema#label> ?v_n0_p1 .\n\t?subject_n0 <http://www.w3.org/2000/01/rdf-schema#comment> ?v_n0_p2 .\n} WHERE { \n\t{\n\t\tSELECT * WHERE {\n            # subject is a class\n\t\t\t?subject_n0 a <http://www.w3.org/2000/01/rdf-schema#Class> .\n\t\t\t?subject_n0 ^<http://www.w3.org/ns/shacl#target> ?v_n0_p0 .\n\t\t\t?v_n0_p0 a <https://ld.flux.zazuko.com/shapes/metadata/ClassShape> .\n\t\t\t?subject_n0 <http://www.w3.org/2000/01/rdf-schema#label> ?v_n0_p1 .\n\t\t\tOPTIONAL {\n\t\t\t\t?subject_n0 <http://www.w3.org/2000/01/rdf-schema#comment> ?v_n0_p2 .\n\t\t\t}\n\t\t}\n\t} \n}"
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "# Second Call: Get all instances of ClassShape\nThis is the medatata of a calss displayed in flux."
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "CONSTRUCT {\n\t?subject_n0 a <https://ld.flux.zazuko.com/shapes/metadata/ClassShape> .\n\t?subject_n0 <http://www.w3.org/ns/shacl#target> ?v_n0_p0 .\n\t?v_n0_p0 a <http://www.w3.org/2000/01/rdf-schema#Class> .\n\t?subject_n0 <https://flux.described.at/faIcon> ?v_n0_p1 .\n\t?subject_n0 <https://flux.described.at/link> ?v_n0_p2 .\n\t?subject_n0 <https://flux.described.at/colorIndex> ?v_n0_p3 .\n\t?subject_n0 <https://flux.described.at/searchPrio> ?v_n0_p4 .\n\t?subject_n0 <https://flux.described.at/labelPath> ?v_n0_p5 .\n\t?subject_n0 <https://flux.described.at/commentPath> ?v_n0_p6 .\n} WHERE { \n\t{\n\t\tSELECT * WHERE {\n\t\t\t?subject_n0 a <https://ld.flux.zazuko.com/shapes/metadata/ClassShape> .\n\t\t\t?subject_n0 <http://www.w3.org/ns/shacl#target> ?v_n0_p0 .\n\t\t\t?v_n0_p0 a <http://www.w3.org/2000/01/rdf-schema#Class> .\n\t\t\t?subject_n0 <https://flux.described.at/faIcon> ?v_n0_p1 .\n\t\t\tOPTIONAL {\n\t\t\t\t?subject_n0 <https://flux.described.at/link> ?v_n0_p2 .\n\t\t\t}\n\t\t\t?subject_n0 <https://flux.described.at/colorIndex> ?v_n0_p3 .\n\t\t\t?subject_n0 <https://flux.described.at/searchPrio> ?v_n0_p4 .\n\t\t\t?subject_n0 <https://flux.described.at/labelPath> ?v_n0_p5 .\n\t\t\t?subject_n0 <https://flux.described.at/commentPath> ?v_n0_p6 .\n\t\t}\n\t} \n}"
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "## why do we have 2 calls?\nInvestigate"
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "## Prefixes and Namespaces used in Flux\n\nFlux is using SPAQL Templates (only one) and the Namespace and Prefix configuration is stored with them."
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX sh: <http://www.w3.org/ns/shacl#>\n\nSELECT ?prefix ?namespace WHERE {\n    ?p a sh:PrefixDeclaration ;\n\t\t sh:namespace ?namespace;\n         sh:prefix ?prefix .\n}"
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "## What are the configured Types in Flux\n\nA Flux Type is somehting with a `flux:showIn flux:UI`."
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX flux: <https://flux.described.at/>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n\nSELECT ?fluxClass ?label ?comment WHERE {\n    ?fluxClass flux:showIn flux:UI ;\n    OPTIONAL {\n        ?fluxClass flux:showIn flux:UI ;\n                   rdfs:label ?label .\n    }\n    OPTIONAL {\n        ?fluxClass flux:showIn flux:UI ;\n                   rdfs:comment ?comment .\n    }\n}\n"
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "## Links of a Type\n\nA flux type can have links to another flux type. "
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX flux: <https://flux.described.at/>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX fluxSchema: <https://ld.flux.zazuko.com/schema/>\n\nDESCRIBE  ?link WHERE {\n    <http://schema.example.org/Project> flux:link ?link . \n}"
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "## Respository\n\nWhat are the contens of a repository (Git). "
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX flux: <https://flux.described.at/>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX fluxSchema: <https://ld.flux.zazuko.com/schema/>\n\nSELECT * WHERE {\n    \n        ?r a <http://schema.example.org/Repository>.\n    \n} LIMIT 20\n"
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "# New Flux Link Query\n\nAt the moment Flux fetches Link Flux metdadata and then generates SQPARQL Queries to fetch the source and target nodes and all intermediate nodes between source and target accoring to the sh:path definition af the Link.\n\nThe FluxUI is then using the result of that query to get the source and target node and the link labels. To do that the UI is following again the sh:path of the Link definition. \n\nThat means we follow the sh:path in the SPARQL query and then again in the UI.\n\nThe current generated query looks like this:"
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX flux: <https://flux.described.at/>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX fluxSchema: <https://ld.flux.zazuko.com/schema/>\n\n  CONSTRUCT {\n      # focus node\n      ?input rdf:type ?inputType .\n      ?input <http://www.w3.org/2000/01/rdf-schema#label> ?inputSubject .\n  \n      # focus node type\n      ?inputType <http://www.w3.org/2000/01/rdf-schema#label> ?inputTypeSubject .\n      ?inputType flux:showIn <https://flux.described.at/UI> .\n      ?inputType <https://flux.described.at/colorIndex> ?srcColor .\n      #\n      # link target\n      ?input ?predicate_ProjectToPersonDeveloperLink_0 ?targetS .\n\n      ?targetS rdf:type ?targetType .\n      ?targetS <http://www.w3.org/2000/01/rdf-schema#label> ?targetLabel .\n      #\n      # link target type\n      ?targetType2 ?targetTypePredicate ?showInPredicate .\n      ?targetType2 <http://www.w3.org/2000/01/rdf-schema#label> ?targetTypeLabel .\n      ?targetType2 <https://flux.described.at/colorIndex> ?targetColor .\n  \n  } WHERE {\n      {\n          SELECT ?input ?inputType ?inputSubject WHERE {\n  BIND(<https://ld.flux.zazuko.com/project/ptt-archiv-zack-search> AS ?input)\n  ?input rdf:type ?inputType .\n  ?inputType flux:showIn <https://flux.described.at/UI> .\n  ?input <http://www.w3.org/2000/01/rdf-schema#label> ?inputSubject .\n}\n      } UNION {\n          SELECT ?input ?inputType ?inputTypeSubject ?srcColor WHERE {\n  BIND(<https://ld.flux.zazuko.com/project/ptt-archiv-zack-search> AS ?input)\n  ?input rdf:type ?inputType .\n  ?inputType flux:showIn <https://flux.described.at/UI> .\n  ?inputType <https://flux.described.at/colorIndex> ?srcColor .\n  ?inputType <http://www.w3.org/2000/01/rdf-schema#label> ?inputTypeSubject .\n}\n      } UNION\n      {\n          SELECT ?input ?predicate_ProjectToPersonDeveloperLink_0 ?targetS ?targetLabel ?targetType WHERE {\n  BIND(<https://ld.flux.zazuko.com/project/ptt-archiv-zack-search> AS ?input)\n  BIND(<http://schema.example.org/developer> AS ?predicate_ProjectToPersonDeveloperLink_0)\n  ?input ?predicate_ProjectToPersonDeveloperLink_0 ?targetS .\n  ?targetS <http://www.w3.org/2000/01/rdf-schema#label> ?targetLabel .\n  ?targetS rdf:type ?targetType .\n  ?targetType flux:showIn <https://flux.described.at/UI> .\n}\n      } UNION {\n          SELECT DISTINCT ?targetType2 ?targetTypePredicate ?showInPredicate ?targetTypeLabel ?targetColor WHERE {\n  BIND(<https://ld.flux.zazuko.com/project/ptt-archiv-zack-search> AS ?input)\n  BIND(<http://schema.example.org/developer> AS ?predicate_ProjectToPersonDeveloperLink_0)\n  ?input ?predicate_ProjectToPersonDeveloperLink_0 ?targetS .\n  BIND(flux:showIn AS ?targetTypePredicate)\n  ?targetS rdf:type ?targetType2 .\n  ?targetType2 ?targetTypePredicate ?showInPredicate .\n  ?targetType2 <https://flux.described.at/colorIndex> ?targetColor .\n  ?targetType2 <http://www.w3.org/2000/01/rdf-schema#label> ?targetTypeLabel .\n}\n      }\n  }"
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "# What can we imporve \n\n## Problems over time\nThe basic idea was to have a partial graph of the graph in the triple store in the UI. This partial graph is the same data that we have in the triple store.  Stored a rdf dataset.\n\nThis was dropped because clownface was to slow when the dataset became big. Ther were several reason for that. Clownface is improved now and is faster. The dataset became big because we used describe and we had too many unused stuff in it. (like 100k database columns). \n\nWe didn't use this dataset anymore because at the end we need a graph structure to display it with webcola. There was no advantage to have the graph as a rdf dataset. \n\n## Problem\nThe UI code is very painful in regards of that graph stuff. We have problems with the naming.\n\nWe have UILink, FluxLink, Webcola Link and Nodes are even worser. We have namednodes, WebCola Nodes e.g. GraphNode, UINode and Nodes in clownface.\n\n\n"
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX flux: <https://flux.described.at/>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX fluxSchema: <https://ld.flux.zazuko.com/schema/>\n\nCONSTRUCT {\n  # focus node\n  ?input rdf:type ?inputType .\n  ?input rdfs:label ?inputLabel .\n  \n  # focus node type\n  ?inputType ?inputTypePredicate ?inputTypeObject .\n\n  # link target\n  ?targetS ?predicate_GitRepositoryToProjectLink_0 ?input .\n  ?targetS rdf:type ?targetType .\n  ?targetS rdfs:label ?targetLabel .\n\n  ## b test\n  ?targetS <http://localhost/hasUiLink> ?linkIri .\n  ?linkIri <http://localhost/hasUiLink> ?targetS .\n  <http://localhost/hasUiLink> flux:link ?link .\n\n  # link target type\n  ?targetType2 ?targetTypePredicate ?targetTypeObject .\n} WHERE {\n  {\n    SELECT ?input ?inputType ?inputLabel WHERE {\n      ?input rdf:type ?inputType .\n      ?inputType flux:showIn flux:UI .\n      ?input rdfs:label ?inputLabel .\n    }\n    VALUES (?input) {\n      (<https://ld.flux.zazuko.com/project/ptt-archiv-zack-search>)\n    }\n  } UNION {\n    SELECT ?input ?inputType ?inputTypePredicate ?inputTypeObject WHERE {\n      ?input rdf:type ?inputType .\n      VALUES (?inputTypePredicate) {\n        (flux:showIn)\n        (flux:colorIndex)\n        (flux:faIcon)\n        (rdfs:label)\n        (rdfs:comment)\n      }\n      ?inputType ?inputTypePredicate ?inputTypeObject .\n    }\n    VALUES (?input) {\n      (<https://ld.flux.zazuko.com/project/ptt-archiv-zack-search>)\n    }\n  } UNION {\n    SELECT ?targetS ?predicate_GitRepositoryToProjectLink_0 ?input ?targetLabel ?targetType ?link ?linkIri WHERE {\n      BIND(<http://schema.example.org/belongsToProject> AS ?predicate_GitRepositoryToProjectLink_0)\n      ?targetS ?predicate_GitRepositoryToProjectLink_0 ?input .\n      \n      ?targetS rdfs:label ?targetLabel .\n      ?targetS rdf:type ?targetType .\n      ?targetType flux:showIn flux:UI .\n\n      BIND(IRI(CONCAT(STR(?input), '/', STR(MD5(STR(?link))),'/',STR(MD5(STR(?targetS))))) AS ?linkIri)\n\n    }\n    VALUES (?input ?link) {\n      (<https://ld.flux.zazuko.com/project/ptt-archiv-zack-search> <link>)\n    }\n    \n  } UNION {\n    SELECT ?targetType2 ?targetTypePredicate ?targetTypeObject WHERE {\n      BIND(<http://schema.example.org/belongsToProject> AS ?predicate_GitRepositoryToProjectLink_0)\n      ?targetS ?predicate_GitRepositoryToProjectLink_0 ?input .\n       VALUES (?targetTypePredicate) {\n        (flux:showIn)\n        (flux:colorIndex)\n        (flux:faIcon)\n        (rdfs:label)\n        (rdfs:comment)\n      }\n      ?targetS rdf:type ?targetType2 .\n      ?targetType2 ?targetTypePredicate ?targetTypeObject .\n    }\n    VALUES (?input) {\n      (<https://ld.flux.zazuko.com/project/ptt-archiv-zack-search>)\n    }\n  } \n}\nVALUES (?input ?link) {\n  (<https://ld.flux.zazuko.com/project/ptt-archiv-zack-search> <link>)\n}\n\n"
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "# New Query"
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX flux: <https://flux.described.at/>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX fluxSchema: <https://ld.flux.zazuko.com/schema/>\n\nSELECT * WHERE {\n  {\n    SELECT ?inLink ?outLink WHERE {\n      {\n        {\n          SELECT ?inputClass WHERE {\n              ?input rdf:type ?inputClass .\n              ?inputClass flux:showIn flux:UI .\n          }\n          VALUES (?input) {\n            (<https://ld.flux.zazuko.com/project/ptt-archiv-zack-search>)\n          }\n        }\n        ?inputClass flux:link ?outLink .\n      } UNION {\n        {\n          SELECT ?inputClass WHERE {\n              ?input rdf:type ?inputClass .\n              ?inputClass flux:showIn flux:UI .\n          }\n          VALUES (?input) {\n            (<https://ld.flux.zazuko.com/project/ptt-archiv-zack-search>)\n          }\n        }\n        ?inLink flux:target ?inputClass .\n      }\n    } \n  }\n  \n  ?outLink sh:path/rdf:rest*/rdf:first/sh:inversePath? ?predicate\n}\nVALUES (?input) {\n  (<https://ld.flux.zazuko.com/project/ptt-archiv-zack-search>)\n}\n"
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "# Turn a sh:path to Property path\n\nThat is not working :-("
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX flux: <https://flux.described.at/>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX fluxSchema: <https://ld.flux.zazuko.com/schema/>\n    \nSELECT ?repo ?target ?tTest ?propertyPath WHERE {\n    {\n        SELECT (GROUP_CONCAT(?pathElement;separator='/') AS ?propertyPath) WHERE {\n            <https://ld.flux.zazuko.com/schema/RepositoryDetailDeployedOnHost> sh:path ?path .\n            ?path rdf:rest* ?listRest .\n            ?listRest rdf:first ?head .\n            OPTIONAL {\n                ?head ?pHead ?oHead .\n                BIND(CONCAT('^<',STR(?oHead), '>') as ?inversePathElement)\n            }\n            ?listRest rdf:rest ?tail .\n\n            BIND ( IF ( bound(?inversePathElement), ?inversePathElement, CONCAT('<', STR(?head), '>' ) ) AS ?pathElement )\n        } \n    }\n    ?repo a <http://schema.example.org/Repository> .\n    ?repo ?propertyPath ?target .\n}\n  \n    \n    \n\n"
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX flux: <https://flux.described.at/>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX fluxSchema: <https://ld.flux.zazuko.com/schema/>\n    \nCONSTRUCT {\n    # get the input node\n    ?input ?inputPredicate ?inputObject .\n    ?input rdf:type ?inputClass .\n    # get the input type\n    ?input rdf:type ?inputTypeClass .\n    ?inputTypeClass ?inputTypePredicate ?inputTypeObject .\n    # get Target Node (the other end of the link )\n    ?target rdf:type ?targetType .\n    ?target rdfs:label ?targetLabel .\n    ?input flux:hasUiLink ?linkIri .\n    ?linkIri flux:link ?link ;\n             flux:hasUiLink ?target .\n    # Get type of the target node\n    ?target rdf:type ?targetClass .\n    ?targetClass ?targetClassPredicate ?targetClassObject .\n} WHERE {\n    {\n        # get the input node\n        VALUES (?input) {\n            (<https://ld.flux.zazuko.com/project/blv-animal-disease-2021>)\n        }\n        VALUES (?inputPredicate) {\n            (rdfs:label)\n        }\n        ?input ?inputPredicate ?inputObject .\n        ?input rdf:type ?inputClass .\n        ?inputClass flux:showIn flux:UI .\n    } UNION {\n        # get the input type \n        SELECT ?inputTypeClass ?inputTypePredicate ?inputTypeObject WHERE {\n            VALUES (?inputTypePredicate) {\n                (flux:faIcon)\n                (rdfs:label)\n                (rdfs:comment)\n                (flux:colorIndex)\n            }\n            ?input rdf:type ?inputTypeClass .\n            ?inputTypeClass flux:showIn flux:UI;\n                ?inputTypePredicate ?inputTypeObject .\n        }\n        VALUES (?input) {\n            (<https://ld.flux.zazuko.com/project/blv-animal-disease-2021>)\n        } \n    } UNION {\n        {\n            # GET Target Node (the other end of the link )\n            SELECT ?target ?targetType ?targetLabel WHERE {\n                ?input <http://schema.example.org/bexioProject> ?target .\n                ?target rdf:type ?targetType .\n                ?target rdfs:label ?targetLabel .\n                ?link flux:target ?targetType .\n            }\n            VALUES (?input ?link) {\n                (<https://ld.flux.zazuko.com/project/blv-animal-disease-2021> <https://ld.flux.zazuko.com/schema/ProjectToBexioProjectLink>)\n            }\n        }\n        VALUES (?input ?link) {\n           (<https://ld.flux.zazuko.com/project/blv-animal-disease-2021> <https://ld.flux.zazuko.com/schema/ProjectToBexioProjectLink>)\n        }\n        # create a unique iri for the link (reification)\n        BIND(IRI(CONCAT(STR(?input), '/', MD5(CONCAT(STR(?link), STR(?target)) ) ) ) as ?linkIri )    \n    } UNION {\n        # Get type of the target node\n        SELECT ?targetClass ?targetClassPredicate ?targetClassObject WHERE {\n            {\n                # GET Target Node (the other end of the link )\n                SELECT ?target WHERE {\n                    ?input <http://schema.example.org/bexioProject> ?target .\n                }\n                VALUES (?input) {\n                    (<https://ld.flux.zazuko.com/project/blv-animal-disease-2021>)\n                }\n            }\n            \n            # get link target class information\n            VALUES ?targetClassPredicate {\n                flux:faIcon\n                rdfs:label\n                rdfs:comment\n                flux:colorIndex\n            }\n            ?target rdf:type ?targetClass .\n            ?targetClass flux:showIn flux:UI .\n            ?targetClass ?targetClassPredicate ?targetClassObject .\n        }   \n    }\n}\n"
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "# Search Query\n"
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "\n# 4 search query with filter and string input \n\nPREFIX  :     <https://flux.described.at/>\nPREFIX fts: <tag:stardog:api:search:>\nPREFIX schema: <https://schema.org/>\nPREFIX rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX xsd:  <http://www.w3.org/2001/XMLSchema#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n# CONSTRUCT\n# {\n#     :query :result ?sub .\n#     ?sub :score ?score .\n#     ?sub rdfs:label ?label .\n#     ?sub rdfs:comment ?comment .\n#     ?sub rdf:type ?resultType .\n#     ?resultType ?rtPred ?rtObj .\n# }\n\n SELECT *\nWHERE\n{\n    {\n        SELECT DISTINCT ?sub ?score\n        WHERE\n        {\n            VALUES ?fluxType\n            {\n               <http://schema.example.org/BexioCustomer>\n               <http://schema.example.org/BexioProject>\n               <urn:k8s:Cluster>\n               <urn:k8s:Deployment>\n               <http://schema.example.org/Repository>\n               <urn:k8s:Host>\n               <urn:oci:Image>\n               <urn:k8s:Ingress>\n               <urn:k8s:Namespace>\n               <urn:oci:Registry>\n               <urn:oci:Repository>\n               <https://schema.org/Person>\n               <http://schema.example.org/Project>\n               <urn:k8s:StatefulSet>\n            }\n            ?sub a ?fluxType .\n            ?sub rdfs:comment|rdfs:label ?l .\n            SERVICE <tag:stardog:api:search:textMatch>  {\n              [] <tag:stardog:api:search:result> ?l ;\n               <tag:stardog:api:search:query> \"Benjami OR Benjami*\" ;\n               <tag:stardog:api:search:score> ?luceneScore .\n            }\n            ?fluxType :searchPrio ?searchPrio .\n            BIND ((xsd:float(?searchPrio) * xsd:float(?luceneScore)) AS ?score)\n        }\n        ORDER BY DESC(?score)\n        OFFSET  0\n        LIMIT   50\n    }\n    {\n        ?sub rdfs:label ?label.\n        ?sub rdf:type ?resultType .\n        ?resultType ?rtPred ?rtObj .\n        OPTIONAL { ?sub rdfs:comment ?comment. }\n    }\n}\n"
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX  :     <https://flux.described.at/>\nPREFIX fts: <tag:stardog:api:search:>\nPREFIX schema: <https://schema.org/>\nPREFIX rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX xsd:  <http://www.w3.org/2001/XMLSchema#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT * WHERE\n   {\n      VALUES ?fluxType {\n         <http://schema.example.org/BexioCustomer>\n         <http://schema.example.org/BexioProject>\n         <urn:k8s:Cluster>\n         <urn:k8s:Deployment>\n         <http://schema.example.org/Repository>\n         <urn:k8s:Host>\n         <urn:oci:Image>\n         <urn:k8s:Ingress>\n         <urn:k8s:Namespace>\n         <urn:oci:Registry>\n         <urn:oci:Repository>\n         <https://schema.org/Person>\n         <http://schema.example.org/Project>\n         <urn:k8s:StatefulSet>\n      }\n\n      {\n         SELECT ?sub WHERE {\n            ?sub rdfs:comment|rdfs:label ?l .\n            SERVICE <tag:stardog:api:search:textMatch>  {\n               [] <tag:stardog:api:search:result> ?l ;\n                  <tag:stardog:api:search:query> \"Benjami OR Benjami*\" ;\n                  <tag:stardog:api:search:score> ?luceneScore .\n            }\n         }\n      }\n\n      ?sub a ?fluxType ;\n             rdfs:label ?label .\n      OPTIONAL {\n         ?sub rdfs:comment ?comment.\n      }\n            \n      ?fluxType rdfs:label ?typeLabel;\n         :faIcon ?icon;\n         :colorIndex ?color;\n         :searchPrio ?prio.\n\n         BIND ((xsd:float(?prio) * xsd:float(?luceneScore)) AS ?score)\n         \n         \n      }\n      ORDER BY DESC(?score)\n      OFFSET  0\n      LIMIT   50"
  },
  {
    "kind": 1,
    "language": "markdown",
    "value": "## debug\n\nfadf"
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX flux: <https://flux.described.at/>\nSELECT *\nWHERE {\n      BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?0_input)\n      ?0_input rdf:type ?0_inputClass.\n      ?0_outgoingLink sh:targetClass ?0_inputClass;\n        rdf:type sh:PropertyShape, flux:Link.\n      ?0_outgoingLink sh:class ?0_tClass;\n        sh:targetClass ?0_outgoingTargetClass;\n        sh:name ?0_label;\n        sh:path ?0_path.\n    \n   \n}"
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX flux: <https://flux.described.at/>\nCONSTRUCT {\n  ?0_input rdf:type ?0_inputClass.\n  ?0_outgoingLink sh:targetClass ?0_inputClass.\n  ?0_outgoingLink rdf:type sh:PropertyShape.\n  ?0_outgoingLink rdf:type flux:Link.\n  ?0_outgoingLink sh:class ?0_tClass.\n  ?0_outgoingLink sh:name ?0_label.\n  ?0_outgoingLink sh:path ?0_path.\n  ?0_path ?0_pathP ?0_pathO.\n  ?0_listRest rdf:first ?0_head.\n  ?0_listRest rdf:rest ?0_tail.\n  ?0_head ?0_pHead ?0_oHead.\n  \n  ?1_input rdf:type ?1_inputClass.\n  ?1_incomingLink sh:class ?1_inputClass.\n  ?1_incomingLink rdf:type sh:PropertyShape.\n  ?1_incomingLink rdf:type flux:Link.\n  ?1_incomingLink sh:class ?1_tClass.\n  ?1_incomingLink sh:targetClass ?1_outgoingTargetClass.\n  ?1_incomingLink sh:name ?1_label.\n  ?1_incomingLink sh:path ?1_path.\n\n  ?1_path ?1_pathP ?1_pathO.\n  ?1_listRest rdf:first ?1_head.\n  ?1_listRest rdf:rest ?1_tail.\n  ?1_head ?1_pHead ?1_oHead.\n}\nWHERE {\n  {\n    {\n      BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?0_input)\n      ?0_input rdf:type ?0_inputClass.\n      ?0_outgoingLink sh:targetClass ?0_inputClass;\n        rdf:type sh:PropertyShape, flux:Link.\n    }\n    UNION\n    {\n      BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?0_input)\n      ?0_input rdf:type ?0_inputClass.\n      ?0_outgoingLink sh:targetClass ?0_inputClass;\n        rdf:type sh:PropertyShape, flux:Link;\n        sh:class ?0_tClass;\n        sh:targetClass ?0_outgoingTargetClass;\n        sh:name ?0_label;\n        sh:path ?0_path.\n    }\n    UNION\n    {\n      {\n        SELECT ?0_path ?0_pathP ?0_pathO WHERE {\n          BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?0_input)\n          ?0_input rdf:type ?0_inputClass.\n          ?0_outgoingLink sh:targetClass ?0_inputClass;\n            rdf:type sh:PropertyShape, flux:Link;\n            sh:path ?0_path.\n          ?0_path ?0_pathP ?0_pathO.\n        }\n      }\n      UNION\n      {\n        SELECT ?0_path ?0_listRest ?0_head ?0_tail ?0_pHead ?0_oHead WHERE {\n          BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?0_input)\n          ?0_input rdf:type ?0_inputClass.\n          ?0_outgoingLink sh:targetClass ?0_inputClass;\n            rdf:type sh:PropertyShape, flux:Link;\n            sh:path ?0_path.\n          ?0_path (rdf:rest*) ?0_listRest.\n          ?0_listRest rdf:first ?0_head;\n            rdf:rest ?0_tail.\n          OPTIONAL { ?0_head ?0_pHead ?0_oHead. }\n        }\n      }\n    }\n  }\n  UNION\n  {\n    {\n      BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?1_input)\n      ?1_input rdf:type ?1_inputClass.\n      ?1_incomingLink sh:class ?1_inputClass;\n        rdf:type sh:PropertyShape, flux:Link.\n    }\n    UNION\n    {\n      BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?1_input)\n      ?1_input rdf:type ?1_inputClass.\n      ?1_incomingLink sh:class ?1_inputClass;\n        rdf:type sh:PropertyShape, flux:Link;\n        sh:class ?1_tClass;\n        sh:targetClass ?1_outgoingTargetClass;\n        sh:name ?1_label;\n        sh:path ?1_path.\n    }\n    UNION\n    {\n      {\n        SELECT ?1_path ?1_pathP ?1_pathO WHERE {\n          BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?1_input)\n          ?1_input rdf:type ?1_inputClass.\n          ?1_incomingLink sh:class ?1_inputClass;\n            rdf:type sh:PropertyShape, flux:Link;\n            sh:path ?1_path.\n          ?1_path ?1_pathP ?1_pathO.\n        }\n      }\n      UNION\n      {\n        SELECT ?1_path ?1_listRest ?1_head ?1_tail ?1_pHead ?1_oHead WHERE {\n          BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?1_input)\n          ?1_input rdf:type ?1_inputClass.\n          ?1_incomingLink sh:class ?1_inputClass;\n            rdf:type sh:PropertyShape, flux:Link;\n            sh:path ?1_path.\n          ?1_path (rdf:rest*) ?1_listRest.\n          ?1_listRest rdf:first ?1_head;\n            rdf:rest ?1_tail.\n          OPTIONAL { ?1_head ?1_pHead ?1_oHead. }\n        }\n      }\n    }\n  }\n}"
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX sh: <http://www.w3.org/ns/shacl#>\nPREFIX flux: <https://flux.described.at/>\n\n\n\nSELECT *\nWHERE {\n  {\n    {\n      BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?0_input)\n      ?0_input rdf:type ?0_inputClass.\n      ?0_outgoingLink sh:targetClass ?0_inputClass;\n        rdf:type sh:PropertyShape, flux:Link.\n    }\n    UNION\n    {\n      BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?0_input)\n      ?0_input rdf:type ?0_inputClass.\n      ?0_outgoingLink sh:targetClass ?0_inputClass;\n        rdf:type sh:PropertyShape, flux:Link;\n        sh:class ?0_tClass;\n        sh:targetClass ?0_outgoingTargetClass;\n        sh:name ?0_label;\n        sh:path ?0_path.\n    }\n    UNION\n    {\n      {\n        SELECT ?0_path ?0_pathP ?0_pathO WHERE {\n          BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?0_input)\n          ?0_input rdf:type ?0_inputClass.\n          ?0_outgoingLink sh:targetClass ?0_inputClass;\n            rdf:type sh:PropertyShape, flux:Link;\n            sh:path ?0_path.\n          ?0_path ?0_pathP ?0_pathO.\n        }\n      }\n      UNION\n      {\n        SELECT ?0_path ?0_listRest ?0_head ?0_tail ?0_pHead ?0_oHead WHERE {\n          BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?0_input)\n          ?0_input rdf:type ?0_inputClass.\n          ?0_outgoingLink sh:targetClass ?0_inputClass;\n            rdf:type sh:PropertyShape, flux:Link;\n            sh:path ?0_path.\n          ?0_path (rdf:rest*) ?0_listRest.\n          ?0_listRest rdf:first ?0_head;\n            rdf:rest ?0_tail.\n          OPTIONAL { ?0_head ?0_pHead ?0_oHead. }\n        }\n      }\n    }\n  }\n  UNION\n  {\n    {\n      BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?1_input)\n      ?1_input rdf:type ?1_inputClass.\n      ?1_incomingLink sh:class ?1_inputClass;\n        rdf:type sh:PropertyShape, flux:Link.\n    }\n    UNION\n    {\n      BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?1_input)\n      ?1_input rdf:type ?1_inputClass.\n      ?1_incomingLink sh:class ?1_inputClass;\n        rdf:type sh:PropertyShape, flux:Link;\n        sh:class ?1_tClass;\n        sh:targetClass ?1_outgoingTargetClass;\n        sh:name ?1_label;\n        sh:path ?1_path.\n    }\n    UNION\n    {\n      {\n        SELECT ?1_path ?1_pathP ?1_pathO WHERE {\n          BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?1_input)\n          ?1_input rdf:type ?1_inputClass.\n          ?1_incomingLink sh:class ?1_inputClass;\n            rdf:type sh:PropertyShape, flux:Link;\n            sh:path ?1_path.\n          ?1_path ?1_pathP ?1_pathO.\n        }\n      }\n      UNION\n      {\n        SELECT ?1_path ?1_listRest ?1_head ?1_tail ?1_pHead ?1_oHead WHERE {\n          BIND(<https://ld.flux.zazuko.com/k8s/cluster/do-fra1-tim/namespace/monitoring> AS ?1_input)\n          ?1_input rdf:type ?1_inputClass.\n          ?1_incomingLink sh:class ?1_inputClass;\n            rdf:type sh:PropertyShape, flux:Link;\n            sh:path ?1_path.\n          ?1_path (rdf:rest*) ?1_listRest.\n          ?1_listRest rdf:first ?1_head;\n            rdf:rest ?1_tail.\n          OPTIONAL { ?1_head ?1_pHead ?1_oHead. }\n        }\n      }\n    }\n  }\n}"
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ex: <http://schema.example.org/>\nPREFIX sh: <http://www.w3.org/ns/shacl#> \nPREFIX schema: <http://schema.org/>\nPREFIX fluxShape: <https://ld.flux.zazuko.com/shapes/metadata/>\nPREFIX flux: <https://ld.flux.zazuko.com/>\nPREFIX k8s: <https://k8s.described.at/>\nPREFIX oci: <https://oci.described.at/>\nPREFIX fluxSchema: <https://flux.described.at/>\n\nDESCRIBE ?k WHERE {\n    VALUES ?k { \n        ex:RepositoryFluxClassInstance\n        k8s:NamespaceFluxClassInstance\n        k8s:ClusterFluxClassInstance\n        k8s:IngressFluxClassInstance\n        k8s:HostFluxClassInstance\n        k8s:DeploymentFluxClassInstance\n        k8s:StatefulSetFluxClassInstance\n        oci:ImageFluxClassInstance\n        oci:RepositoryFluxClassInstance\n        oci:RegistryFluxClassInstance\n     }\n    \n}"
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ex: <http://schema.example.org/>\nPREFIX sh: <http://www.w3.org/ns/shacl#> \nPREFIX schema: <http://schema.org/>\nPREFIX fluxShape: <https://ld.flux.zazuko.com/shapes/metadata/>\nPREFIX flux: <https://ld.flux.zazuko.com/>\nPREFIX k8s: <https://k8s.described.at/>\nPREFIX oci: <https://oci.described.at/>\n\nSELECT * WHERE {\n    ?x a <https://ld.flux.zazuko.com/shapes/metadata/ClassMetadataShape> .\n    ?x ?p ?o.\n}"
  },
  {
    "kind": 2,
    "language": "sparql",
    "value": "# Search Query - term: core\n\nPREFIX fts: <tag:stardog:api:search:>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX flux: <https://flux.described.at/>\nCONSTRUCT {\n  flux:query rdf:type flux:UiSearchResult.\n  flux:query flux:result ?0_sub.\n  flux:query flux:pageSize ?0_pageSize.\n  flux:query flux:pageNumber ?0_pageNumber.\n  ?0_sub rdf:type ?0_fluxIri.\n  ?0_sub rdf:type flux:UiSearchResultItem.\n  ?0_sub flux:score ?0_score.\n  ?0_sub ?0_labelPredicate ?0_label.\n  ?0_sub ?0_commentPredicate ?0_comment.\n  flux:query rdf:type flux:UiSearchResult.\n  flux:query flux:total ?1_count.\n  ?2_fluxIri rdf:type flux:UiClassCount.\n  ?2_fluxIri flux:count ?2_count.\n  ?3_metaInstance ?3_p ?3_o.\n}\nWHERE {\n  {\n    {\n      SELECT * WHERE {\n        {\n          SELECT ?0_sub (SUM(?0_luceneScore) AS ?0_luScore) WHERE {\n            ?0_sub (rdfs:comment|rdfs:label) ?0_l.\n            SERVICE fts:textMatch {\n              _:e_g_0 fts:result ?0_l;\n                fts:query \"core OR core*\";\n                fts:score ?0_luceneScore.\n            }\n          }\n          GROUP BY ?0_sub\n        }\n        {\n          BIND(<https://k8s.described.at/Cluster> AS ?0_fluxIri)\n          BIND(3  AS ?0_searchPriority)\n          BIND(rdfs:label AS ?0_labelPredicate)\n          BIND(rdfs:comment AS ?0_commentPredicate)\n          ?0_sub rdf:type ?0_fluxIri;\n            ?0_labelPredicate ?0_label.\n          OPTIONAL { ?0_sub ?0_commentPredicate ?0_comment. }\n        }\n        UNION\n        {\n          BIND(<https://oci.described.at/Repository> AS ?0_fluxIri)\n          BIND(3  AS ?0_searchPriority)\n          BIND(rdfs:label AS ?0_labelPredicate)\n          BIND(rdfs:comment AS ?0_commentPredicate)\n          ?0_sub rdf:type ?0_fluxIri;\n            ?0_labelPredicate ?0_label.\n          OPTIONAL { ?0_sub ?0_commentPredicate ?0_comment. }\n        }\n        UNION\n        {\n          BIND(<http://schema.example.org/Repository> AS ?0_fluxIri)\n          BIND(3  AS ?0_searchPriority)\n          BIND(rdfs:label AS ?0_labelPredicate)\n          BIND(rdfs:comment AS ?0_commentPredicate)\n          ?0_sub rdf:type ?0_fluxIri;\n            ?0_labelPredicate ?0_label.\n          OPTIONAL { ?0_sub ?0_commentPredicate ?0_comment. }\n        }\n        UNION\n        {\n          BIND(<https://oci.described.at/Image> AS ?0_fluxIri)\n          BIND(3  AS ?0_searchPriority)\n          BIND(rdfs:label AS ?0_labelPredicate)\n          BIND(rdfs:comment AS ?0_commentPredicate)\n          ?0_sub rdf:type ?0_fluxIri;\n            ?0_labelPredicate ?0_label.\n          OPTIONAL { ?0_sub ?0_commentPredicate ?0_comment. }\n        }\n        UNION\n        {\n          BIND(<https://k8s.described.at/StatefulSet> AS ?0_fluxIri)\n          BIND(3  AS ?0_searchPriority)\n          BIND(rdfs:label AS ?0_labelPredicate)\n          BIND(rdfs:comment AS ?0_commentPredicate)\n          ?0_sub rdf:type ?0_fluxIri;\n            ?0_labelPredicate ?0_label.\n          OPTIONAL { ?0_sub ?0_commentPredicate ?0_comment. }\n        }\n        UNION\n        {\n          BIND(<https://k8s.described.at/Namespace> AS ?0_fluxIri)\n          BIND(3  AS ?0_searchPriority)\n          BIND(rdfs:label AS ?0_labelPredicate)\n          BIND(rdfs:comment AS ?0_commentPredicate)\n          ?0_sub rdf:type ?0_fluxIri;\n            ?0_labelPredicate ?0_label.\n          OPTIONAL { ?0_sub ?0_commentPredicate ?0_comment. }\n        }\n        UNION\n        {\n          BIND(<https://k8s.described.at/Host> AS ?0_fluxIri)\n          BIND(3  AS ?0_searchPriority)\n          BIND(rdfs:label AS ?0_labelPredicate)\n          BIND(rdfs:comment AS ?0_commentPredicate)\n          ?0_sub rdf:type ?0_fluxIri;\n            ?0_labelPredicate ?0_label.\n          OPTIONAL { ?0_sub ?0_commentPredicate ?0_comment. }\n        }\n        UNION\n        {\n          BIND(<https://k8s.described.at/Ingress> AS ?0_fluxIri)\n          BIND(3  AS ?0_searchPriority)\n          BIND(rdfs:label AS ?0_labelPredicate)\n          BIND(rdfs:comment AS ?0_commentPredicate)\n          ?0_sub rdf:type ?0_fluxIri;\n            ?0_labelPredicate ?0_label.\n          OPTIONAL { ?0_sub ?0_commentPredicate ?0_comment. }\n        }\n        UNION\n        {\n          BIND(<https://oci.described.at/Registry> AS ?0_fluxIri)\n          BIND(3  AS ?0_searchPriority)\n          BIND(rdfs:label AS ?0_labelPredicate)\n          BIND(rdfs:comment AS ?0_commentPredicate)\n          ?0_sub rdf:type ?0_fluxIri;\n            ?0_labelPredicate ?0_label.\n          OPTIONAL { ?0_sub ?0_commentPredicate ?0_comment. }\n        }\n        UNION\n        {\n          BIND(<https://k8s.described.at/Deployment> AS ?0_fluxIri)\n          BIND(3  AS ?0_searchPriority)\n          BIND(rdfs:label AS ?0_labelPredicate)\n          BIND(rdfs:comment AS ?0_commentPredicate)\n          ?0_sub rdf:type ?0_fluxIri;\n            ?0_labelPredicate ?0_label.\n          OPTIONAL { ?0_sub ?0_commentPredicate ?0_comment. }\n        }\n        BIND((xsd:float(?0_searchPriority)) * (xsd:float(?0_luScore)) AS ?0_score)\n      }\n      ORDER BY DESC (?0_score)\n      LIMIT 50\n    }\n    UNION\n    {\n      BIND(0  AS ?0_pageNumber)\n      BIND(50  AS ?0_pageSize)\n    }\n  }\n  UNION\n  {\n    {\n      SELECT (COUNT(DISTINCT ?1_sub) AS ?1_count) WHERE {\n        {\n          SELECT ?1_sub (SUM(?1_luceneScore) AS ?1_luScore) WHERE {\n            ?1_sub (rdf:type/flux:showIn) flux:UI;\n              (rdfs:comment|rdfs:label) ?1_l.\n            SERVICE fts:textMatch {\n              _:e_g_1 fts:result ?1_l;\n                fts:query \"core OR core*\";\n                fts:score ?1_luceneScore.\n            }\n          }\n          GROUP BY ?1_sub\n        }\n        {\n          BIND(<https://k8s.described.at/Cluster> AS ?1_fluxIri)\n          BIND(3  AS ?1_searchPriority)\n          BIND(rdfs:label AS ?1_labelPredicate)\n          BIND(rdfs:comment AS ?1_commentPredicate)\n          ?1_sub rdf:type ?1_fluxIri;\n            ?1_labelPredicate ?1_label.\n          OPTIONAL { ?1_sub ?1_commentPredicate ?1_comment. }\n        }\n        UNION\n        {\n          BIND(<https://oci.described.at/Repository> AS ?1_fluxIri)\n          BIND(3  AS ?1_searchPriority)\n          BIND(rdfs:label AS ?1_labelPredicate)\n          BIND(rdfs:comment AS ?1_commentPredicate)\n          ?1_sub rdf:type ?1_fluxIri;\n            ?1_labelPredicate ?1_label.\n          OPTIONAL { ?1_sub ?1_commentPredicate ?1_comment. }\n        }\n        UNION\n        {\n          BIND(<http://schema.example.org/Repository> AS ?1_fluxIri)\n          BIND(3  AS ?1_searchPriority)\n          BIND(rdfs:label AS ?1_labelPredicate)\n          BIND(rdfs:comment AS ?1_commentPredicate)\n          ?1_sub rdf:type ?1_fluxIri;\n            ?1_labelPredicate ?1_label.\n          OPTIONAL { ?1_sub ?1_commentPredicate ?1_comment. }\n        }\n        UNION\n        {\n          BIND(<https://oci.described.at/Image> AS ?1_fluxIri)\n          BIND(3  AS ?1_searchPriority)\n          BIND(rdfs:label AS ?1_labelPredicate)\n          BIND(rdfs:comment AS ?1_commentPredicate)\n          ?1_sub rdf:type ?1_fluxIri;\n            ?1_labelPredicate ?1_label.\n          OPTIONAL { ?1_sub ?1_commentPredicate ?1_comment. }\n        }\n        UNION\n        {\n          BIND(<https://k8s.described.at/StatefulSet> AS ?1_fluxIri)\n          BIND(3  AS ?1_searchPriority)\n          BIND(rdfs:label AS ?1_labelPredicate)\n          BIND(rdfs:comment AS ?1_commentPredicate)\n          ?1_sub rdf:type ?1_fluxIri;\n            ?1_labelPredicate ?1_label.\n          OPTIONAL { ?1_sub ?1_commentPredicate ?1_comment. }\n        }\n        UNION\n        {\n          BIND(<https://k8s.described.at/Namespace> AS ?1_fluxIri)\n          BIND(3  AS ?1_searchPriority)\n          BIND(rdfs:label AS ?1_labelPredicate)\n          BIND(rdfs:comment AS ?1_commentPredicate)\n          ?1_sub rdf:type ?1_fluxIri;\n            ?1_labelPredicate ?1_label.\n          OPTIONAL { ?1_sub ?1_commentPredicate ?1_comment. }\n        }\n        UNION\n        {\n          BIND(<https://k8s.described.at/Host> AS ?1_fluxIri)\n          BIND(3  AS ?1_searchPriority)\n          BIND(rdfs:label AS ?1_labelPredicate)\n          BIND(rdfs:comment AS ?1_commentPredicate)\n          ?1_sub rdf:type ?1_fluxIri;\n            ?1_labelPredicate ?1_label.\n          OPTIONAL { ?1_sub ?1_commentPredicate ?1_comment. }\n        }\n        UNION\n        {\n          BIND(<https://k8s.described.at/Ingress> AS ?1_fluxIri)\n          BIND(3  AS ?1_searchPriority)\n          BIND(rdfs:label AS ?1_labelPredicate)\n          BIND(rdfs:comment AS ?1_commentPredicate)\n          ?1_sub rdf:type ?1_fluxIri;\n            ?1_labelPredicate ?1_label.\n          OPTIONAL { ?1_sub ?1_commentPredicate ?1_comment. }\n        }\n        UNION\n        {\n          BIND(<https://oci.described.at/Registry> AS ?1_fluxIri)\n          BIND(3  AS ?1_searchPriority)\n          BIND(rdfs:label AS ?1_labelPredicate)\n          BIND(rdfs:comment AS ?1_commentPredicate)\n          ?1_sub rdf:type ?1_fluxIri;\n            ?1_labelPredicate ?1_label.\n          OPTIONAL { ?1_sub ?1_commentPredicate ?1_comment. }\n        }\n        UNION\n        {\n          BIND(<https://k8s.described.at/Deployment> AS ?1_fluxIri)\n          BIND(3  AS ?1_searchPriority)\n          BIND(rdfs:label AS ?1_labelPredicate)\n          BIND(rdfs:comment AS ?1_commentPredicate)\n          ?1_sub rdf:type ?1_fluxIri;\n            ?1_labelPredicate ?1_label.\n          OPTIONAL { ?1_sub ?1_commentPredicate ?1_comment. }\n        }\n      }\n    }\n  }\n  UNION\n  {\n    {\n      SELECT ?2_fluxIri (COUNT(DISTINCT ?2_s) AS ?2_count) WHERE {\n        VALUES ?2_fluxIri {\n          <https://k8s.described.at/Cluster>\n        }\n        ?2_s rdf:type <https://k8s.described.at/Cluster>;\n          (rdfs:comment|rdfs:label) ?2_l.\n        SERVICE fts:textMatch {\n          _:e_g_2 fts:result ?2_l;\n            fts:query \"core OR core*\".\n        }\n      }\n      GROUP BY ?2_fluxIri\n    }\n    UNION\n    {\n      SELECT ?2_fluxIri (COUNT(DISTINCT ?2_s) AS ?2_count) WHERE {\n        VALUES ?2_fluxIri {\n          <https://oci.described.at/Repository>\n        }\n        ?2_s rdf:type <https://oci.described.at/Repository>;\n          (rdfs:comment|rdfs:label) ?2_l.\n        SERVICE fts:textMatch {\n          _:e_g_3 fts:result ?2_l;\n            fts:query \"core OR core*\".\n        }\n      }\n      GROUP BY ?2_fluxIri\n    }\n    UNION\n    {\n      SELECT ?2_fluxIri (COUNT(DISTINCT ?2_s) AS ?2_count) WHERE {\n        VALUES ?2_fluxIri {\n          <http://schema.example.org/Repository>\n        }\n        ?2_s rdf:type <http://schema.example.org/Repository>;\n          (rdfs:comment|rdfs:label) ?2_l.\n        SERVICE fts:textMatch {\n          _:e_g_4 fts:result ?2_l;\n            fts:query \"core OR core*\".\n        }\n      }\n      GROUP BY ?2_fluxIri\n    }\n    UNION\n    {\n      SELECT ?2_fluxIri (COUNT(DISTINCT ?2_s) AS ?2_count) WHERE {\n        VALUES ?2_fluxIri {\n          <https://oci.described.at/Image>\n        }\n        ?2_s rdf:type <https://oci.described.at/Image>;\n          (rdfs:comment|rdfs:label) ?2_l.\n        SERVICE fts:textMatch {\n          _:e_g_5 fts:result ?2_l;\n            fts:query \"core OR core*\".\n        }\n      }\n      GROUP BY ?2_fluxIri\n    }\n    UNION\n    {\n      SELECT ?2_fluxIri (COUNT(DISTINCT ?2_s) AS ?2_count) WHERE {\n        VALUES ?2_fluxIri {\n          <https://k8s.described.at/StatefulSet>\n        }\n        ?2_s rdf:type <https://k8s.described.at/StatefulSet>;\n          (rdfs:comment|rdfs:label) ?2_l.\n        SERVICE fts:textMatch {\n          _:e_g_6 fts:result ?2_l;\n            fts:query \"core OR core*\".\n        }\n      }\n      GROUP BY ?2_fluxIri\n    }\n    UNION\n    {\n      SELECT ?2_fluxIri (COUNT(DISTINCT ?2_s) AS ?2_count) WHERE {\n        VALUES ?2_fluxIri {\n          <https://k8s.described.at/Namespace>\n        }\n        ?2_s rdf:type <https://k8s.described.at/Namespace>;\n          (rdfs:comment|rdfs:label) ?2_l.\n        SERVICE fts:textMatch {\n          _:e_g_7 fts:result ?2_l;\n            fts:query \"core OR core*\".\n        }\n      }\n      GROUP BY ?2_fluxIri\n    }\n    UNION\n    {\n      SELECT ?2_fluxIri (COUNT(DISTINCT ?2_s) AS ?2_count) WHERE {\n        VALUES ?2_fluxIri {\n          <https://k8s.described.at/Host>\n        }\n        ?2_s rdf:type <https://k8s.described.at/Host>;\n          (rdfs:comment|rdfs:label) ?2_l.\n        SERVICE fts:textMatch {\n          _:e_g_8 fts:result ?2_l;\n            fts:query \"core OR core*\".\n        }\n      }\n      GROUP BY ?2_fluxIri\n    }\n    UNION\n    {\n      SELECT ?2_fluxIri (COUNT(DISTINCT ?2_s) AS ?2_count) WHERE {\n        VALUES ?2_fluxIri {\n          <https://k8s.described.at/Ingress>\n        }\n        ?2_s rdf:type <https://k8s.described.at/Ingress>;\n          (rdfs:comment|rdfs:label) ?2_l.\n        SERVICE fts:textMatch {\n          _:e_g_9 fts:result ?2_l;\n            fts:query \"core OR core*\".\n        }\n      }\n      GROUP BY ?2_fluxIri\n    }\n    UNION\n    {\n      SELECT ?2_fluxIri (COUNT(DISTINCT ?2_s) AS ?2_count) WHERE {\n        VALUES ?2_fluxIri {\n          <https://oci.described.at/Registry>\n        }\n        ?2_s rdf:type <https://oci.described.at/Registry>;\n          (rdfs:comment|rdfs:label) ?2_l.\n        SERVICE fts:textMatch {\n          _:e_g_10 fts:result ?2_l;\n            fts:query \"core OR core*\".\n        }\n      }\n      GROUP BY ?2_fluxIri\n    }\n    UNION\n    {\n      SELECT ?2_fluxIri (COUNT(DISTINCT ?2_s) AS ?2_count) WHERE {\n        VALUES ?2_fluxIri {\n          <https://k8s.described.at/Deployment>\n        }\n        ?2_s rdf:type <https://k8s.described.at/Deployment>;\n          (rdfs:comment|rdfs:label) ?2_l.\n        SERVICE fts:textMatch {\n          _:e_g_11 fts:result ?2_l;\n            fts:query \"core OR core*\".\n        }\n      }\n      GROUP BY ?2_fluxIri\n    }\n  }\n  UNION\n  {\n    { SELECT ?3_metaInstance WHERE { ?3_metaInstance rdf:type <https://ld.flux.zazuko.com/shapes/metadata/ClassMetadataShape>. } }\n    ?3_metaInstance ?3_p ?3_o.\n  }\n}"
  }
]